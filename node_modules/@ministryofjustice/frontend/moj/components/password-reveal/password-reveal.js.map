{"version":3,"file":"password-reveal.js","sources":["../../../../src/moj/components/password-reveal/password-reveal.mjs"],"sourcesContent":["import $ from 'jquery'\n\nexport function PasswordReveal(element) {\n  this.el = element\n  const $el = $(this.el)\n\n  if ($el.data('moj-password-reveal-initialised')) {\n    return\n  }\n\n  $el.data('moj-password-reveal-initialised', true)\n  $el.attr('spellcheck', 'false')\n\n  $el.wrap('<div class=\"moj-password-reveal\"></div>')\n  this.container = $(this.el).parent()\n  this.createButton()\n}\n\nPasswordReveal.prototype.createButton = function () {\n  this.button = $(\n    '<button type=\"button\" class=\"govuk-button govuk-button--secondary moj-password-reveal__button\">Show <span class=\"govuk-visually-hidden\">password</span></button>'\n  )\n  this.container.append(this.button)\n  this.button.on('click', $.proxy(this, 'onButtonClick'))\n}\n\nPasswordReveal.prototype.onButtonClick = function () {\n  if (this.el.type === 'password') {\n    this.el.type = 'text'\n    this.button.html('Hide <span class=\"govuk-visually-hidden\">password</span>')\n  } else {\n    this.el.type = 'password'\n    this.button.html('Show <span class=\"govuk-visually-hidden\">password</span>')\n  }\n}\n"],"names":[],"mappings":";;;;;;EAEA,SAAA,cAAA,CAAA,OAAA,EAAA;EACA,EAAA,IAAA,CAAA,EAAA,GAAA;EACA,EAAA,MAAA,GAAA,GAAA,CAAA,CAAA,IAAA,CAAA,EAAA;;EAEA,EAAA,IAAA,GAAA,CAAA,IAAA,CAAA,iCAAA,CAAA,EAAA;EACA,IAAA;EACA;;EAEA,EAAA,GAAA,CAAA,IAAA,CAAA,iCAAA,EAAA,IAAA;EACA,EAAA,GAAA,CAAA,IAAA,CAAA,YAAA,EAAA,OAAA;;EAEA,EAAA,GAAA,CAAA,IAAA,CAAA,yCAAA;EACA,EAAA,IAAA,CAAA,SAAA,GAAA,CAAA,CAAA,IAAA,CAAA,EAAA,CAAA,CAAA,MAAA;EACA,EAAA,IAAA,CAAA,YAAA;EACA;;EAEA,cAAA,CAAA,SAAA,CAAA,YAAA,GAAA,YAAA;EACA,EAAA,IAAA,CAAA,MAAA,GAAA,CAAA;EACA,IAAA;EACA;EACA,EAAA,IAAA,CAAA,SAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA;EACA,EAAA,IAAA,CAAA,MAAA,CAAA,EAAA,CAAA,OAAA,EAAA,CAAA,CAAA,KAAA,CAAA,IAAA,EAAA,eAAA,CAAA;EACA;;EAEA,cAAA,CAAA,SAAA,CAAA,aAAA,GAAA,YAAA;EACA,EAAA,IAAA,IAAA,CAAA,EAAA,CAAA,IAAA,KAAA,UAAA,EAAA;EACA,IAAA,IAAA,CAAA,EAAA,CAAA,IAAA,GAAA;EACA,IAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA,0DAAA;EACA,GAAA,MAAA;EACA,IAAA,IAAA,CAAA,EAAA,CAAA,IAAA,GAAA;EACA,IAAA,IAAA,CAAA,MAAA,CAAA,IAAA,CAAA,0DAAA;EACA;EACA;;;;;;;;"}