{"version":3,"file":"date-picker.js","sources":["../../../../src/moj/components/date-picker/date-picker.mjs"],"sourcesContent":["/**\n * Date picker config\n *\n * @typedef {object} DatePickerConfig\n * @property {string} [excludedDates] - Dates that cannot be selected\n * @property {string} [excludedDays] - Days that cannot be selected\n * @property {boolean} [leadingZeroes] - Whether to add leading zeroes when populating the field\n * @property {string} [minDate] - The earliest available date\n * @property {string} [maxDate] - The latest available date\n * @property {string} [weekStartDay] - First day of the week in calendar view\n */\n\n/**\n * @param {HTMLElement} $module - HTML element\n * @param {DatePickerConfig} config - config object\n * @class\n */\nexport function DatePicker($module, config = {}) {\n  if (!$module) {\n    return this\n  }\n\n  const schema = Object.freeze({\n    properties: {\n      excludedDates: { type: 'string' },\n      excludedDays: { type: 'string' },\n      leadingZeros: { type: 'string' },\n      maxDate: { type: 'string' },\n      minDate: { type: 'string' },\n      weekStartDay: { type: 'string' }\n    }\n  })\n\n  const defaults = {\n    leadingZeros: false,\n    weekStartDay: 'monday'\n  }\n\n  // data attributes override JS config, which overrides defaults\n  this.config = this.mergeConfigs(\n    defaults,\n    config,\n    this.parseDataset(schema, $module.dataset)\n  )\n\n  this.dayLabels = [\n    'Monday',\n    'Tuesday',\n    'Wednesday',\n    'Thursday',\n    'Friday',\n    'Saturday',\n    'Sunday'\n  ]\n\n  this.monthLabels = [\n    'January',\n    'February',\n    'March',\n    'April',\n    'May',\n    'June',\n    'July',\n    'August',\n    'September',\n    'October',\n    'November',\n    'December'\n  ]\n\n  this.currentDate = new Date()\n  this.currentDate.setHours(0, 0, 0, 0)\n  this.calendarDays = []\n  this.excludedDates = []\n  this.excludedDays = []\n\n  this.buttonClass = 'moj-datepicker__button'\n  this.selectedDayButtonClass = 'moj-datepicker__button--selected'\n  this.currentDayButtonClass = 'moj-datepicker__button--current'\n  this.todayButtonClass = 'moj-datepicker__button--today'\n\n  this.$module = $module\n  this.$input = $module.querySelector('.moj-js-datepicker-input')\n}\n\nDatePicker.prototype.init = function () {\n  // Check that required elements are present\n  if (!this.$input) {\n    return\n  }\n  if (this.$module.dataset.initialized) {\n    return\n  }\n\n  this.setOptions()\n  this.initControls()\n  this.$module.setAttribute('data-initialized', 'true')\n}\n\nDatePicker.prototype.initControls = function () {\n  this.id = `datepicker-${this.$input.id}`\n\n  this.$dialog = this.createDialog()\n  this.createCalendarHeaders()\n\n  const $componentWrapper = document.createElement('div')\n  const $inputWrapper = document.createElement('div')\n  $componentWrapper.classList.add('moj-datepicker__wrapper')\n  $inputWrapper.classList.add('govuk-input__wrapper')\n\n  this.$input.parentNode.insertBefore($componentWrapper, this.$input)\n  $componentWrapper.appendChild($inputWrapper)\n  $inputWrapper.appendChild(this.$input)\n\n  $inputWrapper.insertAdjacentHTML('beforeend', this.toggleTemplate())\n  $componentWrapper.insertAdjacentElement('beforeend', this.$dialog)\n\n  this.$calendarButton = this.$module.querySelector('.moj-js-datepicker-toggle')\n  this.$dialogTitle = this.$dialog.querySelector(\n    '.moj-js-datepicker-month-year'\n  )\n\n  this.createCalendar()\n\n  this.$prevMonthButton = this.$dialog.querySelector(\n    '.moj-js-datepicker-prev-month'\n  )\n  this.$prevYearButton = this.$dialog.querySelector(\n    '.moj-js-datepicker-prev-year'\n  )\n  this.$nextMonthButton = this.$dialog.querySelector(\n    '.moj-js-datepicker-next-month'\n  )\n  this.$nextYearButton = this.$dialog.querySelector(\n    '.moj-js-datepicker-next-year'\n  )\n  this.$cancelButton = this.$dialog.querySelector('.moj-js-datepicker-cancel')\n  this.$okButton = this.$dialog.querySelector('.moj-js-datepicker-ok')\n\n  // add event listeners\n  this.$prevMonthButton.addEventListener('click', (event) =>\n    this.focusPreviousMonth(event, false)\n  )\n  this.$prevYearButton.addEventListener('click', (event) =>\n    this.focusPreviousYear(event, false)\n  )\n  this.$nextMonthButton.addEventListener('click', (event) =>\n    this.focusNextMonth(event, false)\n  )\n  this.$nextYearButton.addEventListener('click', (event) =>\n    this.focusNextYear(event, false)\n  )\n  this.$cancelButton.addEventListener('click', (event) => {\n    event.preventDefault()\n    this.closeDialog(event)\n  })\n  this.$okButton.addEventListener('click', () => {\n    this.selectDate(this.currentDate)\n  })\n\n  const dialogButtons = this.$dialog.querySelectorAll(\n    'button:not([disabled=\"true\"])'\n  )\n  // eslint-disable-next-line prefer-destructuring\n  this.$firstButtonInDialog = dialogButtons[0]\n  this.$lastButtonInDialog = dialogButtons[dialogButtons.length - 1]\n  this.$firstButtonInDialog.addEventListener('keydown', (event) =>\n    this.firstButtonKeydown(event)\n  )\n  this.$lastButtonInDialog.addEventListener('keydown', (event) =>\n    this.lastButtonKeydown(event)\n  )\n\n  this.$calendarButton.addEventListener('click', (event) =>\n    this.toggleDialog(event)\n  )\n\n  this.$dialog.addEventListener('keydown', (event) => {\n    if (event.key === 'Escape') {\n      this.closeDialog()\n      event.preventDefault()\n      event.stopPropagation()\n    }\n  })\n\n  document.body.addEventListener('mouseup', (event) =>\n    this.backgroundClick(event)\n  )\n\n  // populates calendar with initial dates, avoids Wave errors about null buttons\n  this.updateCalendar()\n}\n\nDatePicker.prototype.createDialog = function () {\n  const titleId = `datepicker-title-${this.$input.id}`\n  const $dialog = document.createElement('div')\n\n  $dialog.id = this.id\n  $dialog.setAttribute('class', 'moj-datepicker__dialog')\n  $dialog.setAttribute('role', 'dialog')\n  $dialog.setAttribute('aria-modal', 'true')\n  $dialog.setAttribute('aria-labelledby', titleId)\n  $dialog.innerHTML = this.dialogTemplate(titleId)\n  $dialog.hidden = true\n\n  return $dialog\n}\n\nDatePicker.prototype.createCalendar = function () {\n  const $tbody = this.$dialog.querySelector('tbody')\n  let dayCount = 0\n  for (let i = 0; i < 6; i++) {\n    // create row\n    const $row = $tbody.insertRow(i)\n\n    for (let j = 0; j < 7; j++) {\n      // create cell (day)\n      const $cell = document.createElement('td')\n      const $dateButton = document.createElement('button')\n\n      $cell.appendChild($dateButton)\n      $row.appendChild($cell)\n\n      const calendarDay = new DSCalendarDay($dateButton, dayCount, i, j, this)\n      calendarDay.init()\n      this.calendarDays.push(calendarDay)\n      dayCount++\n    }\n  }\n}\n\nDatePicker.prototype.toggleTemplate = function () {\n  return `<button class=\"moj-datepicker__toggle moj-js-datepicker-toggle\" type=\"button\" aria-haspopup=\"dialog\" aria-controls=\"${this.id}\" aria-expanded=\"false\">\n            <span class=\"govuk-visually-hidden\">Choose date</span>\n            <svg width=\"32\" height=\"24\" focusable=\"false\" class=\"moj-datepicker-icon\" aria-hidden=\"true\" role=\"img\" viewBox=\"0 0 22 22\">\n              <path\n                fill=\"currentColor\"\n                fill-rule=\"evenodd\"\n                clip-rule=\"evenodd\"\n                d=\"M16.1333 2.93333H5.86668V4.4C5.86668 5.21002 5.21003 5.86667 4.40002 5.86667C3.59 5.86667 2.93335 5.21002 2.93335 4.4V2.93333H2C0.895431 2.93333 0 3.82877 0 4.93334V19.2667C0 20.3712 0.89543 21.2667 2 21.2667H20C21.1046 21.2667 22 20.3712 22 19.2667V4.93333C22 3.82876 21.1046 2.93333 20 2.93333H19.0667V4.4C19.0667 5.21002 18.41 5.86667 17.6 5.86667C16.79 5.86667 16.1333 5.21002 16.1333 4.4V2.93333ZM20.5333 8.06667H1.46665V18.8C1.46665 19.3523 1.91436 19.8 2.46665 19.8H19.5333C20.0856 19.8 20.5333 19.3523 20.5333 18.8V8.06667Z\"\n              ></path>\n              <rect x=\"3.66669\" width=\"1.46667\" height=\"5.13333\" rx=\"0.733333\" fill=\"currentColor\"></rect>\n              <rect x=\"16.8667\" width=\"1.46667\" height=\"5.13333\" rx=\"0.733333\" fill=\"currentColor\"></rect>\n            </svg>\n          </button>`\n}\n\n/**\n * HTML template for calendar dialog\n *\n * @param {string} [titleId] - Id attribute for dialog title\n * @returns {string}\n */\nDatePicker.prototype.dialogTemplate = function (titleId) {\n  return `<div class=\"moj-datepicker__dialog-header\">\n            <div class=\"moj-datepicker__dialog-navbuttons\">\n              <button class=\"moj-datepicker__button moj-js-datepicker-prev-year\">\n                <span class=\"govuk-visually-hidden\">Previous year</span>\n                <svg width=\"44\" height=\"40\" viewBox=\"0 0 44 40\" fill=\"none\" fill=\"none\" focusable=\"false\" aria-hidden=\"true\" role=\"img\">\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M23.1643 20L28.9572 14.2071L27.5429 12.7929L20.3358 20L27.5429 27.2071L28.9572 25.7929L23.1643 20Z\" fill=\"currentColor\"/>\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M17.1643 20L22.9572 14.2071L21.5429 12.7929L14.3358 20L21.5429 27.2071L22.9572 25.7929L17.1643 20Z\" fill=\"currentColor\"/>\n                </svg>\n              </button>\n\n              <button class=\"moj-datepicker__button moj-js-datepicker-prev-month\">\n                <span class=\"govuk-visually-hidden\">Previous month</span>\n                <svg width=\"44\" height=\"40\" viewBox=\"0 0 44 40\" fill=\"none\" focusable=\"false\" aria-hidden=\"true\" role=\"img\">\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.5729 20L25.7865 14.2071L24.5137 12.7929L18.0273 20L24.5137 27.2071L25.7865 25.7929L20.5729 20Z\" fill=\"currentColor\"/>\n                </svg>\n              </button>\n            </div>\n\n            <h2 id=\"${titleId}\" class=\"moj-datepicker__dialog-title moj-js-datepicker-month-year\" aria-live=\"polite\">June 2020</h2>\n\n            <div class=\"moj-datepicker__dialog-navbuttons\">\n              <button class=\"moj-datepicker__button moj-js-datepicker-next-month\">\n                <span class=\"govuk-visually-hidden\">Next month</span>\n                <svg width=\"44\" height=\"40\" viewBox=\"0 0 44 40\" fill=\"none\"  focusable=\"false\" aria-hidden=\"true\" role=\"img\">\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M23.4271 20L18.2135 14.2071L19.4863 12.7929L25.9727 20L19.4863 27.2071L18.2135 25.7929L23.4271 20Z\" fill=\"currentColor\"/>\n                </svg>\n              </button>\n\n              <button class=\"moj-datepicker__button moj-js-datepicker-next-year\">\n                <span class=\"govuk-visually-hidden\">Next year</span>\n                <svg width=\"44\" height=\"40\" viewBox=\"0 0 44 40\" fill=\"none\" fill=\"none\" focusable=\"false\" aria-hidden=\"true\" role=\"img\">\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M20.8357 20L15.0428 14.2071L16.4571 12.7929L23.6642 20L16.4571 27.2071L15.0428 25.7929L20.8357 20Z\" fill=\"currentColor\"/>\n                  <path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M26.8357 20L21.0428 14.2071L22.4571 12.7929L29.6642 20L22.4571 27.2071L21.0428 25.7929L26.8357 20Z\" fill=\"currentColor\"/>\n                </svg>\n              </button>\n            </div>\n          </div>\n\n          <table class=\"moj-datepicker__calendar moj-js-datepicker-grid\" role=\"grid\" aria-labelledby=\"${titleId}\">\n            <thead>\n              <tr></tr>\n            </thead>\n\n            <tbody></tbody>\n          </table>\n\n          <div class=\"govuk-button-group\">\n            <button type=\"button\" class=\"govuk-button moj-js-datepicker-ok\">Select</button>\n            <button type=\"button\" class=\"govuk-button govuk-button--secondary moj-js-datepicker-cancel\">Close</button>\n          </div>`\n}\n\nDatePicker.prototype.createCalendarHeaders = function () {\n  this.dayLabels.forEach((day) => {\n    const html = `<th scope=\"col\"><span aria-hidden=\"true\">${day.substring(0, 3)}</span><span class=\"govuk-visually-hidden\">${day}</span></th>`\n    const $headerRow = this.$dialog.querySelector('thead > tr')\n    $headerRow.insertAdjacentHTML('beforeend', html)\n  })\n}\n\n/**\n * Pads given number with leading zeros\n *\n * @param {number} value - The value to be padded\n * @param {number} length - The length in characters of the output\n * @returns {string}\n */\nDatePicker.prototype.leadingZeros = function (value, length = 2) {\n  let ret = value.toString()\n\n  while (ret.length < length) {\n    ret = `0${ret}`\n  }\n\n  return ret\n}\n\nDatePicker.prototype.setOptions = function () {\n  this.setMinAndMaxDatesOnCalendar()\n  this.setExcludedDates()\n  this.setExcludedDays()\n  this.setLeadingZeros()\n  this.setWeekStartDay()\n}\n\nDatePicker.prototype.setMinAndMaxDatesOnCalendar = function () {\n  if (this.config.minDate) {\n    this.minDate = this.formattedDateFromString(this.config.minDate, null)\n    if (this.minDate && this.currentDate < this.minDate) {\n      this.currentDate = this.minDate\n    }\n  }\n\n  if (this.config.maxDate) {\n    this.maxDate = this.formattedDateFromString(this.config.maxDate, null)\n    if (this.maxDate && this.currentDate > this.maxDate) {\n      this.currentDate = this.maxDate\n    }\n  }\n}\n\nDatePicker.prototype.setExcludedDates = function () {\n  if (this.config.excludedDates) {\n    this.excludedDates = this.config.excludedDates\n      .replace(/\\s+/, ' ')\n      .split(' ')\n      .map((item) => {\n        return item.includes('-')\n          ? this.parseDateRangeString(item)\n          : this.formattedDateFromString(item)\n      })\n      .flat()\n      .filter((item) => item)\n  }\n}\n\n/*\n * Parses a daterange string into an array of dates\n * @param {String} datestring - A daterange string in the format \"dd/mm/yyyy-dd/mm/yyyy\"\n * @returns {Date[]}\n */\nDatePicker.prototype.parseDateRangeString = function (datestring) {\n  const dates = []\n  const [startDate, endDate] = datestring\n    .split('-')\n    .map((d) => this.formattedDateFromString(d, null))\n\n  if (startDate && endDate) {\n    const date = new Date(startDate.getTime())\n    /* eslint-disable no-unmodified-loop-condition */\n    while (date <= endDate) {\n      dates.push(new Date(date))\n      date.setDate(date.getDate() + 1)\n    }\n    /* eslint-enable no-unmodified-loop-condition */\n  }\n  return dates\n}\n\nDatePicker.prototype.setExcludedDays = function () {\n  if (this.config.excludedDays) {\n    // lowercase and arrange dayLabels to put indexOf sunday == 0 for comparison\n    // with getDay() function\n    const weekDays = this.dayLabels.map((item) => item.toLowerCase())\n    if (this.config.weekStartDay === 'monday') {\n      weekDays.unshift(weekDays.pop())\n    }\n\n    this.excludedDays = this.config.excludedDays\n      .replace(/\\s+/, ' ')\n      .toLowerCase()\n      .split(' ')\n      .map((item) => weekDays.indexOf(item))\n      .filter((item) => item !== -1)\n  }\n}\n\nDatePicker.prototype.setLeadingZeros = function () {\n  if (typeof this.config.leadingZeros !== 'boolean') {\n    if (this.config.leadingZeros.toLowerCase() === 'true') {\n      this.config.leadingZeros = true\n      return\n    }\n    if (this.config.leadingZeros.toLowerCase() === 'false') {\n      this.config.leadingZeros = false\n    }\n  }\n}\n\nDatePicker.prototype.setWeekStartDay = function () {\n  const weekStartDayParam = this.config.weekStartDay\n  if (weekStartDayParam && weekStartDayParam.toLowerCase() === 'sunday') {\n    this.config.weekStartDay = 'sunday'\n    // Rotate dayLabels array to put Sunday as the first item\n    this.dayLabels.unshift(this.dayLabels.pop())\n  } else {\n    this.config.weekStartDay = 'monday'\n  }\n}\n\n/**\n * Determine if a date is selecteable\n *\n * @param {Date} date - the date to check\n * @returns {boolean}\n */\nDatePicker.prototype.isExcludedDate = function (date) {\n  // This comparison does not work correctly - it will exclude the mindate itself\n  // see: https://github.com/ministryofjustice/moj-frontend/issues/923\n  if (this.minDate && this.minDate > date) {\n    return true\n  }\n\n  // This comparison works as expected - the maxdate will not be excluded\n  if (this.maxDate && this.maxDate < date) {\n    return true\n  }\n\n  for (const excludedDate of this.excludedDates) {\n    if (date.toDateString() === excludedDate.toDateString()) {\n      return true\n    }\n  }\n\n  if (this.excludedDays.includes(date.getDay())) {\n    return true\n  }\n\n  return false\n}\n\n/**\n * Get a Date object from a string\n *\n * @param {string} dateString - string in the format d/m/yyyy dd/mm/yyyy\n * @param {Date} fallback - date object to return if formatting fails\n * @returns {Date}\n */\nDatePicker.prototype.formattedDateFromString = function (\n  dateString,\n  fallback = new Date()\n) {\n  let formattedDate = null\n  // Accepts d/m/yyyy and dd/mm/yyyy\n  const dateFormatPattern = /(\\d{1,2})([-/,. ])(\\d{1,2})\\2(\\d{4})/\n\n  if (!dateFormatPattern.test(dateString)) return fallback\n\n  const match = dateString.match(dateFormatPattern)\n  const day = match[1]\n  const month = match[3]\n  const year = match[4]\n\n  formattedDate = new Date(`${year}-${month}-${day}`)\n  if (formattedDate instanceof Date && !isNaN(formattedDate)) {\n    return formattedDate\n  }\n  return fallback\n}\n\n/**\n * Get a formatted date string from a Date object\n *\n * @param {Date} date - date to format to a string\n * @returns {string}\n */\nDatePicker.prototype.formattedDateFromDate = function (date) {\n  if (this.config.leadingZeros) {\n    return `${this.leadingZeros(date.getDate())}/${this.leadingZeros(date.getMonth() + 1)}/${date.getFullYear()}`\n  }\n\n  return `${date.getDate()}/${date.getMonth() + 1}/${date.getFullYear()}`\n}\n\n/**\n * Get a human readable date in the format Monday 2 March 2024\n *\n * @param {Date} date - date to format\n * @returns {string}\n */\nDatePicker.prototype.formattedDateHuman = function (date) {\n  return `${this.dayLabels[(date.getDay() + 6) % 7]} ${date.getDate()} ${this.monthLabels[date.getMonth()]} ${date.getFullYear()}`\n}\n\nDatePicker.prototype.backgroundClick = function (event) {\n  if (\n    this.isOpen() &&\n    !this.$dialog.contains(event.target) &&\n    !this.$input.contains(event.target) &&\n    !this.$calendarButton.contains(event.target)\n  ) {\n    event.preventDefault()\n    this.closeDialog()\n  }\n}\n\nDatePicker.prototype.firstButtonKeydown = function (event) {\n  if (event.key === 'Tab' && event.shiftKey) {\n    this.$lastButtonInDialog.focus()\n    event.preventDefault()\n  }\n}\n\nDatePicker.prototype.lastButtonKeydown = function (event) {\n  if (event.key === 'Tab' && !event.shiftKey) {\n    this.$firstButtonInDialog.focus()\n    event.preventDefault()\n  }\n}\n\n// render calendar\nDatePicker.prototype.updateCalendar = function () {\n  this.$dialogTitle.innerHTML = `${this.monthLabels[this.currentDate.getMonth()]} ${this.currentDate.getFullYear()}`\n\n  const day = this.currentDate\n  const firstOfMonth = new Date(day.getFullYear(), day.getMonth(), 1)\n  let dayOfWeek\n\n  if (this.config.weekStartDay === 'monday') {\n    dayOfWeek = firstOfMonth.getDay() === 0 ? 6 : firstOfMonth.getDay() - 1 // Change logic to make Monday first day of week, i.e. 0\n  } else {\n    dayOfWeek = firstOfMonth.getDay()\n  }\n\n  firstOfMonth.setDate(firstOfMonth.getDate() - dayOfWeek)\n\n  const thisDay = new Date(firstOfMonth)\n\n  // loop through our days\n  for (let i = 0; i < this.calendarDays.length; i++) {\n    const hidden = thisDay.getMonth() !== day.getMonth()\n    const disabled = this.isExcludedDate(thisDay)\n\n    this.calendarDays[i].update(thisDay, hidden, disabled)\n\n    thisDay.setDate(thisDay.getDate() + 1)\n  }\n}\n\nDatePicker.prototype.setCurrentDate = function (focus = true) {\n  const { currentDate } = this\n  this.calendarDays.forEach((calendarDay) => {\n    calendarDay.button.classList.add('moj-datepicker__button')\n    calendarDay.button.classList.add('moj-datepicker__calendar-day')\n    calendarDay.button.setAttribute('tabindex', -1)\n    calendarDay.button.classList.remove(this.selectedDayButtonClass)\n    const calendarDayDate = calendarDay.date\n    calendarDayDate.setHours(0, 0, 0, 0)\n\n    const today = new Date()\n    today.setHours(0, 0, 0, 0)\n\n    if (\n      calendarDayDate.getTime() ===\n      currentDate.getTime() /* && !calendarDay.button.disabled */\n    ) {\n      if (focus) {\n        calendarDay.button.setAttribute('tabindex', 0)\n        calendarDay.button.focus()\n        calendarDay.button.classList.add(this.selectedDayButtonClass)\n      }\n    }\n\n    if (\n      this.inputDate &&\n      calendarDayDate.getTime() === this.inputDate.getTime()\n    ) {\n      calendarDay.button.classList.add(this.currentDayButtonClass)\n      calendarDay.button.setAttribute('aria-current', 'date')\n    } else {\n      calendarDay.button.classList.remove(this.currentDayButtonClass)\n      calendarDay.button.removeAttribute('aria-current')\n    }\n\n    if (calendarDayDate.getTime() === today.getTime()) {\n      calendarDay.button.classList.add(this.todayButtonClass)\n    } else {\n      calendarDay.button.classList.remove(this.todayButtonClass)\n    }\n  })\n\n  // if no date is tab-able, make the first non-disabled date tab-able\n  if (!focus) {\n    const enabledDays = this.calendarDays.filter((calendarDay) => {\n      return (\n        window.getComputedStyle(calendarDay.button).display === 'block' &&\n        !calendarDay.button.disabled\n      )\n    })\n\n    enabledDays[0].button.setAttribute('tabindex', 0)\n\n    this.currentDate = enabledDays[0].date\n  }\n}\n\nDatePicker.prototype.selectDate = function (date) {\n  if (this.isExcludedDate(date)) {\n    return\n  }\n\n  this.$calendarButton.querySelector('span').innerText =\n    `Choose date. Selected date is ${this.formattedDateHuman(date)}`\n  this.$input.value = this.formattedDateFromDate(date)\n\n  const changeEvent = new Event('change', { bubbles: true, cancelable: true })\n  this.$input.dispatchEvent(changeEvent)\n\n  this.closeDialog()\n}\n\nDatePicker.prototype.isOpen = function () {\n  return this.$dialog.classList.contains('moj-datepicker__dialog--open')\n}\n\nDatePicker.prototype.toggleDialog = function (event) {\n  event.preventDefault()\n  if (this.isOpen()) {\n    this.closeDialog()\n  } else {\n    this.setMinAndMaxDatesOnCalendar()\n    this.openDialog()\n  }\n}\n\nDatePicker.prototype.openDialog = function () {\n  this.$dialog.hidden = false\n  this.$dialog.classList.add('moj-datepicker__dialog--open')\n  this.$calendarButton.setAttribute('aria-expanded', 'true')\n\n  // position the dialog\n  // if input is wider than dialog pin it to the right\n  if (this.$input.offsetWidth > this.$dialog.offsetWidth) {\n    this.$dialog.style.right = `0px`\n  }\n  this.$dialog.style.top = `${this.$input.offsetHeight + 3}px`\n\n  // get the date from the input element\n  this.inputDate = this.formattedDateFromString(this.$input.value)\n  this.currentDate = this.inputDate\n  this.currentDate.setHours(0, 0, 0, 0)\n\n  this.updateCalendar()\n  this.setCurrentDate()\n}\n\nDatePicker.prototype.closeDialog = function () {\n  this.$dialog.hidden = true\n  this.$dialog.classList.remove('moj-datepicker__dialog--open')\n  this.$calendarButton.setAttribute('aria-expanded', 'false')\n  this.$calendarButton.focus()\n}\n\nDatePicker.prototype.goToDate = function (date, focus) {\n  const current = this.currentDate\n  this.currentDate = date\n\n  if (\n    current.getMonth() !== this.currentDate.getMonth() ||\n    current.getFullYear() !== this.currentDate.getFullYear()\n  ) {\n    this.updateCalendar()\n  }\n\n  this.setCurrentDate(focus)\n}\n\n// day navigation\nDatePicker.prototype.focusNextDay = function () {\n  const date = new Date(this.currentDate)\n  date.setDate(date.getDate() + 1)\n  this.goToDate(date)\n}\n\nDatePicker.prototype.focusPreviousDay = function () {\n  const date = new Date(this.currentDate)\n  date.setDate(date.getDate() - 1)\n  this.goToDate(date)\n}\n\n// week navigation\nDatePicker.prototype.focusNextWeek = function () {\n  const date = new Date(this.currentDate)\n  date.setDate(date.getDate() + 7)\n  this.goToDate(date)\n}\n\nDatePicker.prototype.focusPreviousWeek = function () {\n  const date = new Date(this.currentDate)\n  date.setDate(date.getDate() - 7)\n  this.goToDate(date)\n}\n\nDatePicker.prototype.focusFirstDayOfWeek = function () {\n  const date = new Date(this.currentDate)\n  const firstDayOfWeekIndex = this.config.weekStartDay === 'sunday' ? 0 : 1\n  const dayOfWeek = date.getDay()\n  const diff =\n    dayOfWeek >= firstDayOfWeekIndex\n      ? dayOfWeek - firstDayOfWeekIndex\n      : 6 - dayOfWeek\n\n  date.setDate(date.getDate() - diff)\n  date.setHours(0, 0, 0, 0)\n\n  this.goToDate(date)\n}\n\nDatePicker.prototype.focusLastDayOfWeek = function () {\n  const date = new Date(this.currentDate)\n  const lastDayOfWeekIndex = this.config.weekStartDay === 'sunday' ? 6 : 0\n  const dayOfWeek = date.getDay()\n  const diff =\n    dayOfWeek <= lastDayOfWeekIndex\n      ? lastDayOfWeekIndex - dayOfWeek\n      : 7 - dayOfWeek\n\n  date.setDate(date.getDate() + diff)\n  date.setHours(0, 0, 0, 0)\n\n  this.goToDate(date)\n}\n\n// month navigation\nDatePicker.prototype.focusNextMonth = function (event, focus = true) {\n  event.preventDefault()\n  const date = new Date(this.currentDate)\n  date.setMonth(date.getMonth() + 1, 1)\n  this.goToDate(date, focus)\n}\n\nDatePicker.prototype.focusPreviousMonth = function (event, focus = true) {\n  event.preventDefault()\n  const date = new Date(this.currentDate)\n  date.setMonth(date.getMonth() - 1, 1)\n  this.goToDate(date, focus)\n}\n\n// year navigation\nDatePicker.prototype.focusNextYear = function (event, focus = true) {\n  event.preventDefault()\n  const date = new Date(this.currentDate)\n  date.setFullYear(date.getFullYear() + 1, date.getMonth(), 1)\n  this.goToDate(date, focus)\n}\n\nDatePicker.prototype.focusPreviousYear = function (event, focus = true) {\n  event.preventDefault()\n  const date = new Date(this.currentDate)\n  date.setFullYear(date.getFullYear() - 1, date.getMonth(), 1)\n  this.goToDate(date, focus)\n}\n\n/**\n * Parse dataset\n *\n * @param {Schema} schema - Component class\n * @param {DOMStringMap} dataset - HTML element dataset\n * @returns {object} Normalised dataset\n */\nDatePicker.prototype.parseDataset = function (schema, dataset) {\n  const parsed = {}\n\n  for (const [field, ,] of Object.entries(schema.properties)) {\n    if (field in dataset) {\n      parsed[field] = dataset[field]\n    }\n  }\n\n  return parsed\n}\n\n/**\n * Config merging function\n *\n * Takes any number of objects and combines them together, with\n * greatest priority on the LAST item passed in.\n *\n * @param {...{ [key: string]: unknown }} configObjects - Config objects to merge\n * @returns {{ [key: string]: unknown }} A merged config object\n */\nDatePicker.prototype.mergeConfigs = function (...configObjects) {\n  const formattedConfigObject = {}\n\n  // Loop through each of the passed objects\n  for (const configObject of configObjects) {\n    for (const key of Object.keys(configObject)) {\n      const option = formattedConfigObject[key]\n      const override = configObject[key]\n\n      // Push their keys one-by-one into formattedConfigObject. Any duplicate\n      // keys with object values will be merged, otherwise the new value will\n      // override the existing value.\n      if (typeof option === 'object' && typeof override === 'object') {\n        // @ts-expect-error Index signature for type 'string' is missing\n        formattedConfigObject[key] = this.mergeConfigs(option, override)\n      } else {\n        formattedConfigObject[key] = override\n      }\n    }\n  }\n\n  return formattedConfigObject\n}\n\n/**\n *\n * @param {HTMLElement} button\n * @param {number} index\n * @param {number} row\n * @param {number} column\n * @param {DatePicker} picker\n * @class\n */\nfunction DSCalendarDay(button, index, row, column, picker) {\n  this.index = index\n  this.row = row\n  this.column = column\n  this.button = button\n  this.picker = picker\n\n  this.date = new Date()\n}\n\nDSCalendarDay.prototype.init = function () {\n  this.button.addEventListener('keydown', this.keyPress.bind(this))\n  this.button.addEventListener('click', this.click.bind(this))\n}\n\n/**\n * @param {Date} day - the Date for the calendar day\n * @param {boolean} hidden - visibility of the day\n * @param {boolean} disabled - is the day selectable or excluded\n */\nDSCalendarDay.prototype.update = function (day, hidden, disabled) {\n  const label = day.getDate()\n  let accessibleLabel = this.picker.formattedDateHuman(day)\n\n  if (disabled) {\n    this.button.setAttribute('aria-disabled', true)\n    accessibleLabel = `Excluded date, ${accessibleLabel}`\n  } else {\n    this.button.removeAttribute('aria-disabled')\n  }\n\n  if (hidden) {\n    this.button.style.display = 'none'\n  } else {\n    this.button.style.display = 'block'\n  }\n  this.button.setAttribute(\n    'data-testid',\n    this.picker.formattedDateFromDate(day)\n  )\n\n  this.button.innerHTML = `<span class=\"govuk-visually-hidden\">${accessibleLabel}</span><span aria-hidden=\"true\">${label}</span>`\n  this.date = new Date(day)\n}\n\nDSCalendarDay.prototype.click = function (event) {\n  this.picker.goToDate(this.date)\n  this.picker.selectDate(this.date)\n\n  event.stopPropagation()\n  event.preventDefault()\n}\n\nDSCalendarDay.prototype.keyPress = function (event) {\n  let calendarNavKey = true\n\n  switch (event.key) {\n    case 'ArrowLeft':\n      this.picker.focusPreviousDay()\n      break\n    case 'ArrowRight':\n      this.picker.focusNextDay()\n      break\n    case 'ArrowUp':\n      this.picker.focusPreviousWeek()\n      break\n    case 'ArrowDown':\n      this.picker.focusNextWeek()\n      break\n    case 'Home':\n      this.picker.focusFirstDayOfWeek()\n      break\n    case 'End':\n      this.picker.focusLastDayOfWeek()\n      break\n    case 'PageUp':\n      // eslint-disable-next-line no-unused-expressions\n      event.shiftKey\n        ? this.picker.focusPreviousYear(event)\n        : this.picker.focusPreviousMonth(event)\n      break\n    case 'PageDown':\n      // eslint-disable-next-line no-unused-expressions\n      event.shiftKey\n        ? this.picker.focusNextYear(event)\n        : this.picker.focusNextMonth(event)\n      break\n    default:\n      calendarNavKey = false\n      break\n  }\n\n  if (calendarNavKey) {\n    event.preventDefault()\n    event.stopPropagation()\n  }\n}\n\n/**\n * Schema for component config\n *\n * @typedef {object} Schema\n * @property {{ [field: string]: SchemaProperty | undefined }} properties - Schema properties\n */\n\n/**\n * Schema property for component config\n *\n * @typedef {object} SchemaProperty\n * @property {'string' | 'boolean' | 'number' | 'object'} type - Property type\n */\n"],"names":[],"mappings":";;;;;;EAAA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACO,SAAS,UAAU,CAAC,OAAO,EAAE,MAAM,GAAG,EAAE,EAAE;EACjD,EAAE,IAAI,CAAC,OAAO,EAAE;EAChB,IAAI,OAAO;EACX;;EAEA,EAAE,MAAM,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC;EAC/B,IAAI,UAAU,EAAE;EAChB,MAAM,aAAa,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;EACvC,MAAM,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;EACtC,MAAM,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;EACtC,MAAM,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;EACjC,MAAM,OAAO,EAAE,EAAE,IAAI,EAAE,QAAQ,EAAE;EACjC,MAAM,YAAY,EAAE,EAAE,IAAI,EAAE,QAAQ;EACpC;EACA,GAAG;;EAEH,EAAE,MAAM,QAAQ,GAAG;EACnB,IAAI,YAAY,EAAE,KAAK;EACvB,IAAI,YAAY,EAAE;EAClB;;EAEA;EACA,EAAE,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC,YAAY;EACjC,IAAI,QAAQ;EACZ,IAAI,MAAM;EACV,IAAI,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO;EAC7C;;EAEA,EAAE,IAAI,CAAC,SAAS,GAAG;EACnB,IAAI,QAAQ;EACZ,IAAI,SAAS;EACb,IAAI,WAAW;EACf,IAAI,UAAU;EACd,IAAI,QAAQ;EACZ,IAAI,UAAU;EACd,IAAI;EACJ;;EAEA,EAAE,IAAI,CAAC,WAAW,GAAG;EACrB,IAAI,SAAS;EACb,IAAI,UAAU;EACd,IAAI,OAAO;EACX,IAAI,OAAO;EACX,IAAI,KAAK;EACT,IAAI,MAAM;EACV,IAAI,MAAM;EACV,IAAI,QAAQ;EACZ,IAAI,WAAW;EACf,IAAI,SAAS;EACb,IAAI,UAAU;EACd,IAAI;EACJ;;EAEA,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI;EAC7B,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;EACtC,EAAE,IAAI,CAAC,YAAY,GAAG;EACtB,EAAE,IAAI,CAAC,aAAa,GAAG;EACvB,EAAE,IAAI,CAAC,YAAY,GAAG;;EAEtB,EAAE,IAAI,CAAC,WAAW,GAAG;EACrB,EAAE,IAAI,CAAC,sBAAsB,GAAG;EAChC,EAAE,IAAI,CAAC,qBAAqB,GAAG;EAC/B,EAAE,IAAI,CAAC,gBAAgB,GAAG;;EAE1B,EAAE,IAAI,CAAC,OAAO,GAAG;EACjB,EAAE,IAAI,CAAC,MAAM,GAAG,OAAO,CAAC,aAAa,CAAC,0BAA0B;EAChE;;EAEA,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;EACxC;EACA,EAAE,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;EACpB,IAAI;EACJ;EACA,EAAE,IAAI,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,WAAW,EAAE;EACxC,IAAI;EACJ;;EAEA,EAAE,IAAI,CAAC,UAAU;EACjB,EAAE,IAAI,CAAC,YAAY;EACnB,EAAE,IAAI,CAAC,OAAO,CAAC,YAAY,CAAC,kBAAkB,EAAE,MAAM;EACtD;;EAEA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;EAChD,EAAE,IAAI,CAAC,EAAE,GAAG,CAAC,WAAW,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;;EAEzC,EAAE,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,YAAY;EAClC,EAAE,IAAI,CAAC,qBAAqB;;EAE5B,EAAE,MAAM,iBAAiB,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK;EACxD,EAAE,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK;EACpD,EAAE,iBAAiB,CAAC,SAAS,CAAC,GAAG,CAAC,yBAAyB;EAC3D,EAAE,aAAa,CAAC,SAAS,CAAC,GAAG,CAAC,sBAAsB;;EAEpD,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,iBAAiB,EAAE,IAAI,CAAC,MAAM;EACpE,EAAE,iBAAiB,CAAC,WAAW,CAAC,aAAa;EAC7C,EAAE,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,MAAM;;EAEvC,EAAE,aAAa,CAAC,kBAAkB,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE;EACrE,EAAE,iBAAiB,CAAC,qBAAqB,CAAC,WAAW,EAAE,IAAI,CAAC,OAAO;;EAEnE,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,2BAA2B;EAC/E,EAAE,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;EAChD,IAAI;EACJ;;EAEA,EAAE,IAAI,CAAC,cAAc;;EAErB,EAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;EACpD,IAAI;EACJ;EACA,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;EACnD,IAAI;EACJ;EACA,EAAE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;EACpD,IAAI;EACJ;EACA,EAAE,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa;EACnD,IAAI;EACJ;EACA,EAAE,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,2BAA2B;EAC7E,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,uBAAuB;;EAErE;EACA,EAAE,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK;EACxD,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,KAAK;EACxC;EACA,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK;EACvD,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK,EAAE,KAAK;EACvC;EACA,EAAE,IAAI,CAAC,gBAAgB,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK;EACxD,IAAI,IAAI,CAAC,cAAc,CAAC,KAAK,EAAE,KAAK;EACpC;EACA,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK;EACvD,IAAI,IAAI,CAAC,aAAa,CAAC,KAAK,EAAE,KAAK;EACnC;EACA,EAAE,IAAI,CAAC,aAAa,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK,KAAK;EAC1D,IAAI,KAAK,CAAC,cAAc;EACxB,IAAI,IAAI,CAAC,WAAW,CAAC,KAAK;EAC1B,GAAG;EACH,EAAE,IAAI,CAAC,SAAS,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM;EACjD,IAAI,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,WAAW;EACpC,GAAG;;EAEH,EAAE,MAAM,aAAa,GAAG,IAAI,CAAC,OAAO,CAAC,gBAAgB;EACrD,IAAI;EACJ;EACA;EACA,EAAE,IAAI,CAAC,oBAAoB,GAAG,aAAa,CAAC,CAAC;EAC7C,EAAE,IAAI,CAAC,mBAAmB,GAAG,aAAa,CAAC,aAAa,CAAC,MAAM,GAAG,CAAC;EACnE,EAAE,IAAI,CAAC,oBAAoB,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK;EAC9D,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK;EACjC;EACA,EAAE,IAAI,CAAC,mBAAmB,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK;EAC7D,IAAI,IAAI,CAAC,iBAAiB,CAAC,KAAK;EAChC;;EAEA,EAAE,IAAI,CAAC,eAAe,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,KAAK;EACvD,IAAI,IAAI,CAAC,YAAY,CAAC,KAAK;EAC3B;;EAEA,EAAE,IAAI,CAAC,OAAO,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK,KAAK;EACtD,IAAI,IAAI,KAAK,CAAC,GAAG,KAAK,QAAQ,EAAE;EAChC,MAAM,IAAI,CAAC,WAAW;EACtB,MAAM,KAAK,CAAC,cAAc;EAC1B,MAAM,KAAK,CAAC,eAAe;EAC3B;EACA,GAAG;;EAEH,EAAE,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,SAAS,EAAE,CAAC,KAAK;EAClD,IAAI,IAAI,CAAC,eAAe,CAAC,KAAK;EAC9B;;EAEA;EACA,EAAE,IAAI,CAAC,cAAc;EACrB;;EAEA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;EAChD,EAAE,MAAM,OAAO,GAAG,CAAC,iBAAiB,EAAE,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC;EACrD,EAAE,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK;;EAE9C,EAAE,OAAO,CAAC,EAAE,GAAG,IAAI,CAAC;EACpB,EAAE,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,wBAAwB;EACxD,EAAE,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ;EACvC,EAAE,OAAO,CAAC,YAAY,CAAC,YAAY,EAAE,MAAM;EAC3C,EAAE,OAAO,CAAC,YAAY,CAAC,iBAAiB,EAAE,OAAO;EACjD,EAAE,OAAO,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO;EACjD,EAAE,OAAO,CAAC,MAAM,GAAG;;EAEnB,EAAE,OAAO;EACT;;EAEA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;EAClD,EAAE,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,OAAO;EACnD,EAAE,IAAI,QAAQ,GAAG;EACjB,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;EAC9B;EACA,IAAI,MAAM,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC;;EAEnC,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;EAChC;EACA,MAAM,MAAM,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI;EAC/C,MAAM,MAAM,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ;;EAEzD,MAAM,KAAK,CAAC,WAAW,CAAC,WAAW;EACnC,MAAM,IAAI,CAAC,WAAW,CAAC,KAAK;;EAE5B,MAAM,MAAM,WAAW,GAAG,IAAI,aAAa,CAAC,WAAW,EAAE,QAAQ,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI;EAC7E,MAAM,WAAW,CAAC,IAAI;EACtB,MAAM,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,WAAW;EACxC,MAAM,QAAQ;EACd;EACA;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;EAClD,EAAE,OAAO,CAAC,oHAAoH,EAAE,IAAI,CAAC,EAAE,CAAC;AACxI;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAmB;EACnB;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,OAAO,EAAE;EACzD,EAAE,OAAO,CAAC;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,EAAE,OAAO,CAAC;;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,sGAAsG,EAAE,OAAO,CAAC;AAChH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAgB;EAChB;;EAEA,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,YAAY;EACzD,EAAE,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,GAAG,KAAK;EAClC,IAAI,MAAM,IAAI,GAAG,CAAC,yCAAyC,EAAE,GAAG,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,2CAA2C,EAAE,GAAG,CAAC,YAAY;EAC9I,IAAI,MAAM,UAAU,GAAG,IAAI,CAAC,OAAO,CAAC,aAAa,CAAC,YAAY;EAC9D,IAAI,UAAU,CAAC,kBAAkB,CAAC,WAAW,EAAE,IAAI;EACnD,GAAG;EACH;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE,MAAM,GAAG,CAAC,EAAE;EACjE,EAAE,IAAI,GAAG,GAAG,KAAK,CAAC,QAAQ;;EAE1B,EAAE,OAAO,GAAG,CAAC,MAAM,GAAG,MAAM,EAAE;EAC9B,IAAI,GAAG,GAAG,CAAC,CAAC,EAAE,GAAG,CAAC;EAClB;;EAEA,EAAE,OAAO;EACT;;EAEA,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;EAC9C,EAAE,IAAI,CAAC,2BAA2B;EAClC,EAAE,IAAI,CAAC,gBAAgB;EACvB,EAAE,IAAI,CAAC,eAAe;EACtB,EAAE,IAAI,CAAC,eAAe;EACtB,EAAE,IAAI,CAAC,eAAe;EACtB;;EAEA,UAAU,CAAC,SAAS,CAAC,2BAA2B,GAAG,YAAY;EAC/D,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;EAC3B,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI;EACzE,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,EAAE;EACzD,MAAM,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EAC9B;EACA;;EAEA,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE;EAC3B,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,EAAE,IAAI;EACzE,IAAI,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,EAAE;EACzD,MAAM,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EAC9B;EACA;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;EACpD,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,aAAa,EAAE;EACjC,IAAI,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC;EACrC,OAAO,OAAO,CAAC,KAAK,EAAE,GAAG;EACzB,OAAO,KAAK,CAAC,GAAG;EAChB,OAAO,GAAG,CAAC,CAAC,IAAI,KAAK;EACrB,QAAQ,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG;EAChC,YAAY,IAAI,CAAC,oBAAoB,CAAC,IAAI;EAC1C,YAAY,IAAI,CAAC,uBAAuB,CAAC,IAAI;EAC7C,OAAO;EACP,OAAO,IAAI;EACX,OAAO,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI;EAC5B;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,oBAAoB,GAAG,UAAU,UAAU,EAAE;EAClE,EAAE,MAAM,KAAK,GAAG;EAChB,EAAE,MAAM,CAAC,SAAS,EAAE,OAAO,CAAC,GAAG;EAC/B,KAAK,KAAK,CAAC,GAAG;EACd,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,IAAI,CAAC,uBAAuB,CAAC,CAAC,EAAE,IAAI,CAAC;;EAErD,EAAE,IAAI,SAAS,IAAI,OAAO,EAAE;EAC5B,IAAI,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE;EAC7C;EACA,IAAI,OAAO,IAAI,IAAI,OAAO,EAAE;EAC5B,MAAM,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC;EAC/B,MAAM,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;EACrC;EACA;EACA;EACA,EAAE,OAAO;EACT;;EAEA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;EACnD,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;EAChC;EACA;EACA,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,IAAI,KAAK,IAAI,CAAC,WAAW,EAAE;EACpE,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,QAAQ,EAAE;EAC/C,MAAM,QAAQ,CAAC,OAAO,CAAC,QAAQ,CAAC,GAAG,EAAE;EACrC;;EAEA,IAAI,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,MAAM,CAAC;EACpC,OAAO,OAAO,CAAC,KAAK,EAAE,GAAG;EACzB,OAAO,WAAW;EAClB,OAAO,KAAK,CAAC,GAAG;EAChB,OAAO,GAAG,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC;EAC3C,OAAO,MAAM,CAAC,CAAC,IAAI,KAAK,IAAI,KAAK,EAAE;EACnC;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;EACnD,EAAE,IAAI,OAAO,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,SAAS,EAAE;EACrD,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,MAAM,EAAE;EAC3D,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;EACjC,MAAM;EACN;EACA,IAAI,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,WAAW,EAAE,KAAK,OAAO,EAAE;EAC5D,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;EACjC;EACA;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,YAAY;EACnD,EAAE,MAAM,iBAAiB,GAAG,IAAI,CAAC,MAAM,CAAC;EACxC,EAAE,IAAI,iBAAiB,IAAI,iBAAiB,CAAC,WAAW,EAAE,KAAK,QAAQ,EAAE;EACzE,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;EAC/B;EACA,IAAI,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE;EAC/C,GAAG,MAAM;EACT,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG;EAC/B;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,IAAI,EAAE;EACtD;EACA;EACA,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE;EAC3C,IAAI,OAAO;EACX;;EAEA;EACA,EAAE,IAAI,IAAI,CAAC,OAAO,IAAI,IAAI,CAAC,OAAO,GAAG,IAAI,EAAE;EAC3C,IAAI,OAAO;EACX;;EAEA,EAAE,KAAK,MAAM,YAAY,IAAI,IAAI,CAAC,aAAa,EAAE;EACjD,IAAI,IAAI,IAAI,CAAC,YAAY,EAAE,KAAK,YAAY,CAAC,YAAY,EAAE,EAAE;EAC7D,MAAM,OAAO;EACb;EACA;;EAEA,EAAE,IAAI,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;EACjD,IAAI,OAAO;EACX;;EAEA,EAAE,OAAO;EACT;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,uBAAuB,GAAG;EAC/C,EAAE,UAAU;EACZ,EAAE,QAAQ,GAAG,IAAI,IAAI;EACrB,EAAE;EACF,EAAE,IAAI,aAAa,GAAG;EACtB;EACA,EAAE,MAAM,iBAAiB,GAAG;;EAE5B,EAAE,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,OAAO;;EAElD,EAAE,MAAM,KAAK,GAAG,UAAU,CAAC,KAAK,CAAC,iBAAiB;EAClD,EAAE,MAAM,GAAG,GAAG,KAAK,CAAC,CAAC;EACrB,EAAE,MAAM,KAAK,GAAG,KAAK,CAAC,CAAC;EACvB,EAAE,MAAM,IAAI,GAAG,KAAK,CAAC,CAAC;;EAEtB,EAAE,aAAa,GAAG,IAAI,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;EACpD,EAAE,IAAI,aAAa,YAAY,IAAI,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,EAAE;EAC9D,IAAI,OAAO;EACX;EACA,EAAE,OAAO;EACT;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,qBAAqB,GAAG,UAAU,IAAI,EAAE;EAC7D,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,EAAE;EAChC,IAAI,OAAO,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;EAChH;;EAEA,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;EACxE;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,IAAI,EAAE;EAC1D,EAAE,OAAO,CAAC,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,EAAE,CAAC;EACjI;;EAEA,UAAU,CAAC,SAAS,CAAC,eAAe,GAAG,UAAU,KAAK,EAAE;EACxD,EAAE;EACF,IAAI,IAAI,CAAC,MAAM,EAAE;EACjB,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;EACxC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM,CAAC;EACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,QAAQ,CAAC,KAAK,CAAC,MAAM;EAC/C,IAAI;EACJ,IAAI,KAAK,CAAC,cAAc;EACxB,IAAI,IAAI,CAAC,WAAW;EACpB;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE;EAC3D,EAAE,IAAI,KAAK,CAAC,GAAG,KAAK,KAAK,IAAI,KAAK,CAAC,QAAQ,EAAE;EAC7C,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK;EAClC,IAAI,KAAK,CAAC,cAAc;EACxB;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE;EAC1D,EAAE,IAAI,KAAK,CAAC,GAAG,KAAK,KAAK,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;EAC9C,IAAI,IAAI,CAAC,oBAAoB,CAAC,KAAK;EACnC,IAAI,KAAK,CAAC,cAAc;EACxB;EACA;;EAEA;EACA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,YAAY;EAClD,EAAE,IAAI,CAAC,YAAY,CAAC,SAAS,GAAG,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;;EAEnH,EAAE,MAAM,GAAG,GAAG,IAAI,CAAC;EACnB,EAAE,MAAM,YAAY,GAAG,IAAI,IAAI,CAAC,GAAG,CAAC,WAAW,EAAE,EAAE,GAAG,CAAC,QAAQ,EAAE,EAAE,CAAC;EACpE,EAAE,IAAI;;EAEN,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,QAAQ,EAAE;EAC7C,IAAI,SAAS,GAAG,YAAY,CAAC,MAAM,EAAE,KAAK,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,GAAG,EAAC;EAC3E,GAAG,MAAM;EACT,IAAI,SAAS,GAAG,YAAY,CAAC,MAAM;EACnC;;EAEA,EAAE,YAAY,CAAC,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,SAAS;;EAEzD,EAAE,MAAM,OAAO,GAAG,IAAI,IAAI,CAAC,YAAY;;EAEvC;EACA,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;EACrD,IAAI,MAAM,MAAM,GAAG,OAAO,CAAC,QAAQ,EAAE,KAAK,GAAG,CAAC,QAAQ;EACtD,IAAI,MAAM,QAAQ,GAAG,IAAI,CAAC,cAAc,CAAC,OAAO;;EAEhD,IAAI,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,EAAE,MAAM,EAAE,QAAQ;;EAEzD,IAAI,OAAO,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC;EACzC;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,GAAG,IAAI,EAAE;EAC9D,EAAE,MAAM,EAAE,WAAW,EAAE,GAAG;EAC1B,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,WAAW,KAAK;EAC7C,IAAI,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,wBAAwB;EAC7D,IAAI,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,8BAA8B;EACnE,IAAI,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,EAAE;EAClD,IAAI,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,sBAAsB;EACnE,IAAI,MAAM,eAAe,GAAG,WAAW,CAAC;EACxC,IAAI,eAAe,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;EAEvC,IAAI,MAAM,KAAK,GAAG,IAAI,IAAI;EAC1B,IAAI,KAAK,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;EAE7B,IAAI;EACJ,MAAM,eAAe,CAAC,OAAO,EAAE;EAC/B,MAAM,WAAW,CAAC,OAAO,EAAE;EAC3B,MAAM;EACN,MAAM,IAAI,KAAK,EAAE;EACjB,QAAQ,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;EACrD,QAAQ,WAAW,CAAC,MAAM,CAAC,KAAK;EAChC,QAAQ,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,sBAAsB;EACpE;EACA;;EAEA,IAAI;EACJ,MAAM,IAAI,CAAC,SAAS;EACpB,MAAM,eAAe,CAAC,OAAO,EAAE,KAAK,IAAI,CAAC,SAAS,CAAC,OAAO;EAC1D,MAAM;EACN,MAAM,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,qBAAqB;EACjE,MAAM,WAAW,CAAC,MAAM,CAAC,YAAY,CAAC,cAAc,EAAE,MAAM;EAC5D,KAAK,MAAM;EACX,MAAM,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,qBAAqB;EACpE,MAAM,WAAW,CAAC,MAAM,CAAC,eAAe,CAAC,cAAc;EACvD;;EAEA,IAAI,IAAI,eAAe,CAAC,OAAO,EAAE,KAAK,KAAK,CAAC,OAAO,EAAE,EAAE;EACvD,MAAM,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,CAAC,gBAAgB;EAC5D,KAAK,MAAM;EACX,MAAM,WAAW,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,gBAAgB;EAC/D;EACA,GAAG;;EAEH;EACA,EAAE,IAAI,CAAC,KAAK,EAAE;EACd,IAAI,MAAM,WAAW,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,WAAW,KAAK;EAClE,MAAM;EACN,QAAQ,MAAM,CAAC,gBAAgB,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC,OAAO,KAAK,OAAO;EACvE,QAAQ,CAAC,WAAW,CAAC,MAAM,CAAC;EAC5B;EACA,KAAK;;EAEL,IAAI,WAAW,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,UAAU,EAAE,CAAC;;EAEpD,IAAI,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC,CAAC,CAAC,CAAC;EACtC;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,UAAU,IAAI,EAAE;EAClD,EAAE,IAAI,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,EAAE;EACjC,IAAI;EACJ;;EAEA,EAAE,IAAI,CAAC,eAAe,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,SAAS;EACtD,IAAI,CAAC,8BAA8B,EAAE,IAAI,CAAC,kBAAkB,CAAC,IAAI,CAAC,CAAC;EACnE,EAAE,IAAI,CAAC,MAAM,CAAC,KAAK,GAAG,IAAI,CAAC,qBAAqB,CAAC,IAAI;;EAErD,EAAE,MAAM,WAAW,GAAG,IAAI,KAAK,CAAC,QAAQ,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE;EAC7E,EAAE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,WAAW;;EAEvC,EAAE,IAAI,CAAC,WAAW;EAClB;;EAEA,UAAU,CAAC,SAAS,CAAC,MAAM,GAAG,YAAY;EAC1C,EAAE,OAAO,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,QAAQ,CAAC,8BAA8B;EACvE;;EAEA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,KAAK,EAAE;EACrD,EAAE,KAAK,CAAC,cAAc;EACtB,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE;EACrB,IAAI,IAAI,CAAC,WAAW;EACpB,GAAG,MAAM;EACT,IAAI,IAAI,CAAC,2BAA2B;EACpC,IAAI,IAAI,CAAC,UAAU;EACnB;EACA;;EAEA,UAAU,CAAC,SAAS,CAAC,UAAU,GAAG,YAAY;EAC9C,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG;EACxB,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,8BAA8B;EAC3D,EAAE,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,EAAE,MAAM;;EAE3D;EACA;EACA,EAAE,IAAI,IAAI,CAAC,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC,OAAO,CAAC,WAAW,EAAE;EAC1D,IAAI,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,GAAG;EACnC;EACA,EAAE,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,GAAG,CAAC,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,CAAC,EAAE;;EAE7D;EACA,EAAE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK;EACjE,EAAE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;EAC1B,EAAE,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;EAEtC,EAAE,IAAI,CAAC,cAAc;EACrB,EAAE,IAAI,CAAC,cAAc;EACrB;;EAEA,UAAU,CAAC,SAAS,CAAC,WAAW,GAAG,YAAY;EAC/C,EAAE,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG;EACxB,EAAE,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,MAAM,CAAC,8BAA8B;EAC9D,EAAE,IAAI,CAAC,eAAe,CAAC,YAAY,CAAC,eAAe,EAAE,OAAO;EAC5D,EAAE,IAAI,CAAC,eAAe,CAAC,KAAK;EAC5B;;EAEA,UAAU,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,IAAI,EAAE,KAAK,EAAE;EACvD,EAAE,MAAM,OAAO,GAAG,IAAI,CAAC;EACvB,EAAE,IAAI,CAAC,WAAW,GAAG;;EAErB,EAAE;EACF,IAAI,OAAO,CAAC,QAAQ,EAAE,KAAK,IAAI,CAAC,WAAW,CAAC,QAAQ,EAAE;EACtD,IAAI,OAAO,CAAC,WAAW,EAAE,KAAK,IAAI,CAAC,WAAW,CAAC,WAAW;EAC1D,IAAI;EACJ,IAAI,IAAI,CAAC,cAAc;EACvB;;EAEA,EAAE,IAAI,CAAC,cAAc,CAAC,KAAK;EAC3B;;EAEA;EACA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,YAAY;EAChD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;EACjC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA,UAAU,CAAC,SAAS,CAAC,gBAAgB,GAAG,YAAY;EACpD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;EACjC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA;EACA,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,YAAY;EACjD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;EACjC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,YAAY;EACrD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,CAAC;EACjC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA,UAAU,CAAC,SAAS,CAAC,mBAAmB,GAAG,YAAY;EACvD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,MAAM,mBAAmB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,QAAQ,GAAG,CAAC,GAAG;EAC1E,EAAE,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM;EAC/B,EAAE,MAAM,IAAI;EACZ,IAAI,SAAS,IAAI;EACjB,QAAQ,SAAS,GAAG;EACpB,QAAQ,CAAC,GAAG;;EAEZ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI;EACpC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;EAE1B,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,YAAY;EACtD,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,MAAM,kBAAkB,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,KAAK,QAAQ,GAAG,CAAC,GAAG;EACzE,EAAE,MAAM,SAAS,GAAG,IAAI,CAAC,MAAM;EAC/B,EAAE,MAAM,IAAI;EACZ,IAAI,SAAS,IAAI;EACjB,QAAQ,kBAAkB,GAAG;EAC7B,QAAQ,CAAC,GAAG;;EAEZ,EAAE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,GAAG,IAAI;EACpC,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC;;EAE1B,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI;EACpB;;EAEA;EACA,UAAU,CAAC,SAAS,CAAC,cAAc,GAAG,UAAU,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE;EACrE,EAAE,KAAK,CAAC,cAAc;EACtB,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC;EACtC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK;EAC3B;;EAEA,UAAU,CAAC,SAAS,CAAC,kBAAkB,GAAG,UAAU,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE;EACzE,EAAE,KAAK,CAAC,cAAc;EACtB,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,EAAE,CAAC;EACtC,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK;EAC3B;;EAEA;EACA,UAAU,CAAC,SAAS,CAAC,aAAa,GAAG,UAAU,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE;EACpE,EAAE,KAAK,CAAC,cAAc;EACtB,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;EAC7D,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK;EAC3B;;EAEA,UAAU,CAAC,SAAS,CAAC,iBAAiB,GAAG,UAAU,KAAK,EAAE,KAAK,GAAG,IAAI,EAAE;EACxE,EAAE,KAAK,CAAC,cAAc;EACtB,EAAE,MAAM,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,WAAW;EACxC,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,WAAW,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,QAAQ,EAAE,EAAE,CAAC;EAC7D,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,EAAE,KAAK;EAC3B;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,MAAM,EAAE,OAAO,EAAE;EAC/D,EAAE,MAAM,MAAM,GAAG;;EAEjB,EAAE,KAAK,MAAM,CAAC,KAAK,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,UAAU,CAAC,EAAE;EAC9D,IAAI,IAAI,KAAK,IAAI,OAAO,EAAE;EAC1B,MAAM,MAAM,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,KAAK;EACnC;EACA;;EAEA,EAAE,OAAO;EACT;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,UAAU,CAAC,SAAS,CAAC,YAAY,GAAG,UAAU,GAAG,aAAa,EAAE;EAChE,EAAE,MAAM,qBAAqB,GAAG;;EAEhC;EACA,EAAE,KAAK,MAAM,YAAY,IAAI,aAAa,EAAE;EAC5C,IAAI,KAAK,MAAM,GAAG,IAAI,MAAM,CAAC,IAAI,CAAC,YAAY,CAAC,EAAE;EACjD,MAAM,MAAM,MAAM,GAAG,qBAAqB,CAAC,GAAG;EAC9C,MAAM,MAAM,QAAQ,GAAG,YAAY,CAAC,GAAG;;EAEvC;EACA;EACA;EACA,MAAM,IAAI,OAAO,MAAM,KAAK,QAAQ,IAAI,OAAO,QAAQ,KAAK,QAAQ,EAAE;EACtE;EACA,QAAQ,qBAAqB,CAAC,GAAG,CAAC,GAAG,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,QAAQ;EACvE,OAAO,MAAM;EACb,QAAQ,qBAAqB,CAAC,GAAG,CAAC,GAAG;EACrC;EACA;EACA;;EAEA,EAAE,OAAO;EACT;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA,SAAS,aAAa,CAAC,MAAM,EAAE,KAAK,EAAE,GAAG,EAAE,MAAM,EAAE,MAAM,EAAE;EAC3D,EAAE,IAAI,CAAC,KAAK,GAAG;EACf,EAAE,IAAI,CAAC,GAAG,GAAG;EACb,EAAE,IAAI,CAAC,MAAM,GAAG;EAChB,EAAE,IAAI,CAAC,MAAM,GAAG;EAChB,EAAE,IAAI,CAAC,MAAM,GAAG;;EAEhB,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI;EACtB;;EAEA,aAAa,CAAC,SAAS,CAAC,IAAI,GAAG,YAAY;EAC3C,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC;EAClE,EAAE,IAAI,CAAC,MAAM,CAAC,gBAAgB,CAAC,OAAO,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC;EAC7D;;EAEA;EACA;EACA;EACA;EACA;EACA,aAAa,CAAC,SAAS,CAAC,MAAM,GAAG,UAAU,GAAG,EAAE,MAAM,EAAE,QAAQ,EAAE;EAClE,EAAE,MAAM,KAAK,GAAG,GAAG,CAAC,OAAO;EAC3B,EAAE,IAAI,eAAe,GAAG,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,GAAG;;EAE1D,EAAE,IAAI,QAAQ,EAAE;EAChB,IAAI,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,eAAe,EAAE,IAAI;EAClD,IAAI,eAAe,GAAG,CAAC,eAAe,EAAE,eAAe,CAAC;EACxD,GAAG,MAAM;EACT,IAAI,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,eAAe;EAC/C;;EAEA,EAAE,IAAI,MAAM,EAAE;EACd,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG;EAChC,GAAG,MAAM;EACT,IAAI,IAAI,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,GAAG;EAChC;EACA,EAAE,IAAI,CAAC,MAAM,CAAC,YAAY;EAC1B,IAAI,aAAa;EACjB,IAAI,IAAI,CAAC,MAAM,CAAC,qBAAqB,CAAC,GAAG;EACzC;;EAEA,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,GAAG,CAAC,oCAAoC,EAAE,eAAe,CAAC,gCAAgC,EAAE,KAAK,CAAC,OAAO;EAChI,EAAE,IAAI,CAAC,IAAI,GAAG,IAAI,IAAI,CAAC,GAAG;EAC1B;;EAEA,aAAa,CAAC,SAAS,CAAC,KAAK,GAAG,UAAU,KAAK,EAAE;EACjD,EAAE,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI;EAChC,EAAE,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI;;EAElC,EAAE,KAAK,CAAC,eAAe;EACvB,EAAE,KAAK,CAAC,cAAc;EACtB;;EAEA,aAAa,CAAC,SAAS,CAAC,QAAQ,GAAG,UAAU,KAAK,EAAE;EACpD,EAAE,IAAI,cAAc,GAAG;;EAEvB,EAAE,QAAQ,KAAK,CAAC,GAAG;EACnB,IAAI,KAAK,WAAW;EACpB,MAAM,IAAI,CAAC,MAAM,CAAC,gBAAgB;EAClC,MAAM;EACN,IAAI,KAAK,YAAY;EACrB,MAAM,IAAI,CAAC,MAAM,CAAC,YAAY;EAC9B,MAAM;EACN,IAAI,KAAK,SAAS;EAClB,MAAM,IAAI,CAAC,MAAM,CAAC,iBAAiB;EACnC,MAAM;EACN,IAAI,KAAK,WAAW;EACpB,MAAM,IAAI,CAAC,MAAM,CAAC,aAAa;EAC/B,MAAM;EACN,IAAI,KAAK,MAAM;EACf,MAAM,IAAI,CAAC,MAAM,CAAC,mBAAmB;EACrC,MAAM;EACN,IAAI,KAAK,KAAK;EACd,MAAM,IAAI,CAAC,MAAM,CAAC,kBAAkB;EACpC,MAAM;EACN,IAAI,KAAK,QAAQ;EACjB;EACA,MAAM,KAAK,CAAC;EACZ,UAAU,IAAI,CAAC,MAAM,CAAC,iBAAiB,CAAC,KAAK;EAC7C,UAAU,IAAI,CAAC,MAAM,CAAC,kBAAkB,CAAC,KAAK;EAC9C,MAAM;EACN,IAAI,KAAK,UAAU;EACnB;EACA,MAAM,KAAK,CAAC;EACZ,UAAU,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,KAAK;EACzC,UAAU,IAAI,CAAC,MAAM,CAAC,cAAc,CAAC,KAAK;EAC1C,MAAM;EACN,IAAI;EACJ,MAAM,cAAc,GAAG;EACvB,MAAM;EACN;;EAEA,EAAE,IAAI,cAAc,EAAE;EACtB,IAAI,KAAK,CAAC,cAAc;EACxB,IAAI,KAAK,CAAC,eAAe;EACzB;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;;;;;;;;"}