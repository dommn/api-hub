{"version":3,"file":"all.mjs","sources":["../../src/moj/all.mjs"],"sourcesContent":["/* eslint-disable no-new */\n\nimport $ from 'jquery'\n\nimport { AddAnother } from './components/add-another/add-another.mjs'\nimport { Alert } from './components/alert/alert.mjs'\nimport { ButtonMenu } from './components/button-menu/button-menu.mjs'\nimport { DatePicker } from './components/date-picker/date-picker.mjs'\nimport { FilterToggleButton } from './components/filter-toggle-button/filter-toggle-button.mjs'\nimport { MultiFileUpload } from './components/multi-file-upload/multi-file-upload.mjs'\nimport { MultiSelect } from './components/multi-select/multi-select.mjs'\nimport { PasswordReveal } from './components/password-reveal/password-reveal.mjs'\nimport { RichTextEditor } from './components/rich-text-editor/rich-text-editor.mjs'\nimport { SearchToggle } from './components/search-toggle/search-toggle.mjs'\nimport { SortableTable } from './components/sortable-table/sortable-table.mjs'\nimport { nodeListForEach } from './helpers.mjs'\nimport { version } from './version.mjs'\n\nfunction initAll(options) {\n  // Set the options to an empty object by default if no options are passed.\n  options = typeof options !== 'undefined' ? options : {}\n\n  // Allow the user to initialise MOJ Frontend in only certain sections of the page\n  // Defaults to the entire document if nothing is set.\n  const scope = typeof options.scope !== 'undefined' ? options.scope : document\n\n  const $addAnothers = scope.querySelectorAll('[data-module=\"moj-add-another\"]')\n\n  nodeListForEach($addAnothers, function ($addAnother) {\n    new AddAnother($addAnother)\n  })\n\n  const $multiSelects = scope.querySelectorAll(\n    '[data-module=\"moj-multi-select\"]'\n  )\n\n  nodeListForEach($multiSelects, function ($multiSelect) {\n    new MultiSelect({\n      container: $multiSelect.querySelector(\n        $multiSelect.getAttribute('data-multi-select-checkbox')\n      ),\n      checkboxes: $multiSelect.querySelectorAll(\n        'tbody .govuk-checkboxes__input'\n      ),\n      id_prefix: $multiSelect.getAttribute('data-multi-select-idprefix')\n    })\n  })\n\n  const $passwordReveals = scope.querySelectorAll(\n    '[data-module=\"moj-password-reveal\"]'\n  )\n\n  nodeListForEach($passwordReveals, function ($passwordReveal) {\n    new PasswordReveal($passwordReveal)\n  })\n\n  const $richTextEditors = scope.querySelectorAll(\n    '[data-module=\"moj-rich-text-editor\"]'\n  )\n\n  nodeListForEach($richTextEditors, function ($richTextEditor) {\n    const options = {\n      textarea: $($richTextEditor)\n    }\n\n    const toolbarAttr = $richTextEditor.getAttribute(\n      'data-moj-rich-text-editor-toolbar'\n    )\n\n    if (toolbarAttr) {\n      const toolbar = toolbarAttr.split(',')\n\n      options.toolbar = {}\n\n      for (const item in toolbar) {\n        options.toolbar[toolbar[item]] = true\n      }\n    }\n\n    new RichTextEditor(options)\n  })\n\n  const $searchToggles = scope.querySelectorAll(\n    '[data-module=\"moj-search-toggle\"]'\n  )\n\n  nodeListForEach($searchToggles, function ($searchToggle) {\n    new SearchToggle({\n      toggleButton: {\n        container: $($searchToggle.querySelector('.moj-search-toggle__toggle')),\n        text: $searchToggle.getAttribute('data-moj-search-toggle-text')\n      },\n      search: {\n        container: $($searchToggle.querySelector('.moj-search'))\n      }\n    })\n  })\n\n  const $sortableTables = scope.querySelectorAll(\n    '[data-module=\"moj-sortable-table\"]'\n  )\n\n  nodeListForEach($sortableTables, function ($table) {\n    new SortableTable({\n      table: $table\n    })\n  })\n\n  const $datepickers = scope.querySelectorAll('[data-module=\"moj-date-picker\"]')\n\n  nodeListForEach($datepickers, function ($datepicker) {\n    new DatePicker($datepicker, {}).init()\n  })\n\n  const $buttonMenus = scope.querySelectorAll('[data-module=\"moj-button-menu\"]')\n\n  nodeListForEach($buttonMenus, function ($buttonmenu) {\n    new ButtonMenu($buttonmenu, {}).init()\n  })\n\n  const $alerts = scope.querySelectorAll('[data-module=\"moj-alert\"]')\n  nodeListForEach($alerts, function ($alert) {\n    new Alert($alert, {}).init()\n  })\n}\n\nexport {\n  initAll,\n  version,\n\n  // Components\n  AddAnother,\n  Alert,\n  ButtonMenu,\n  DatePicker,\n  FilterToggleButton,\n  MultiFileUpload,\n  MultiSelect,\n  PasswordReveal,\n  RichTextEditor,\n  SearchToggle,\n  SortableTable\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAA;;;AAkBA,SAAA,OAAA,CAAA,OAAA,EAAA;AACA;AACA,EAAA,OAAA,GAAA,OAAA,OAAA,KAAA,WAAA,GAAA,OAAA,GAAA;;AAEA;AACA;AACA,EAAA,MAAA,KAAA,GAAA,OAAA,OAAA,CAAA,KAAA,KAAA,WAAA,GAAA,OAAA,CAAA,KAAA,GAAA;;AAEA,EAAA,MAAA,YAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,iCAAA;;AAEA,EAAA,eAAA,CAAA,YAAA,EAAA,UAAA,WAAA,EAAA;AACA,IAAA,IAAA,UAAA,CAAA,WAAA;AACA,GAAA;;AAEA,EAAA,MAAA,aAAA,GAAA,KAAA,CAAA,gBAAA;AACA,IAAA;AACA;;AAEA,EAAA,eAAA,CAAA,aAAA,EAAA,UAAA,YAAA,EAAA;AACA,IAAA,IAAA,WAAA,CAAA;AACA,MAAA,SAAA,EAAA,YAAA,CAAA,aAAA;AACA,QAAA,YAAA,CAAA,YAAA,CAAA,4BAAA;AACA,OAAA;AACA,MAAA,UAAA,EAAA,YAAA,CAAA,gBAAA;AACA,QAAA;AACA,OAAA;AACA,MAAA,SAAA,EAAA,YAAA,CAAA,YAAA,CAAA,4BAAA;AACA,KAAA;AACA,GAAA;;AAEA,EAAA,MAAA,gBAAA,GAAA,KAAA,CAAA,gBAAA;AACA,IAAA;AACA;;AAEA,EAAA,eAAA,CAAA,gBAAA,EAAA,UAAA,eAAA,EAAA;AACA,IAAA,IAAA,cAAA,CAAA,eAAA;AACA,GAAA;;AAEA,EAAA,MAAA,gBAAA,GAAA,KAAA,CAAA,gBAAA;AACA,IAAA;AACA;;AAEA,EAAA,eAAA,CAAA,gBAAA,EAAA,UAAA,eAAA,EAAA;AACA,IAAA,MAAA,OAAA,GAAA;AACA,MAAA,QAAA,EAAA,CAAA,CAAA,eAAA;AACA;;AAEA,IAAA,MAAA,WAAA,GAAA,eAAA,CAAA,YAAA;AACA,MAAA;AACA;;AAEA,IAAA,IAAA,WAAA,EAAA;AACA,MAAA,MAAA,OAAA,GAAA,WAAA,CAAA,KAAA,CAAA,GAAA;;AAEA,MAAA,OAAA,CAAA,OAAA,GAAA;;AAEA,MAAA,KAAA,MAAA,IAAA,IAAA,OAAA,EAAA;AACA,QAAA,OAAA,CAAA,OAAA,CAAA,OAAA,CAAA,IAAA,CAAA,CAAA,GAAA;AACA;AACA;;AAEA,IAAA,IAAA,cAAA,CAAA,OAAA;AACA,GAAA;;AAEA,EAAA,MAAA,cAAA,GAAA,KAAA,CAAA,gBAAA;AACA,IAAA;AACA;;AAEA,EAAA,eAAA,CAAA,cAAA,EAAA,UAAA,aAAA,EAAA;AACA,IAAA,IAAA,YAAA,CAAA;AACA,MAAA,YAAA,EAAA;AACA,QAAA,SAAA,EAAA,CAAA,CAAA,aAAA,CAAA,aAAA,CAAA,4BAAA,CAAA,CAAA;AACA,QAAA,IAAA,EAAA,aAAA,CAAA,YAAA,CAAA,6BAAA;AACA,OAAA;AACA,MAAA,MAAA,EAAA;AACA,QAAA,SAAA,EAAA,CAAA,CAAA,aAAA,CAAA,aAAA,CAAA,aAAA,CAAA;AACA;AACA,KAAA;AACA,GAAA;;AAEA,EAAA,MAAA,eAAA,GAAA,KAAA,CAAA,gBAAA;AACA,IAAA;AACA;;AAEA,EAAA,eAAA,CAAA,eAAA,EAAA,UAAA,MAAA,EAAA;AACA,IAAA,IAAA,aAAA,CAAA;AACA,MAAA,KAAA,EAAA;AACA,KAAA;AACA,GAAA;;AAEA,EAAA,MAAA,YAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,iCAAA;;AAEA,EAAA,eAAA,CAAA,YAAA,EAAA,UAAA,WAAA,EAAA;AACA,IAAA,IAAA,UAAA,CAAA,WAAA,EAAA,EAAA,CAAA,CAAA,IAAA;AACA,GAAA;;AAEA,EAAA,MAAA,YAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,iCAAA;;AAEA,EAAA,eAAA,CAAA,YAAA,EAAA,UAAA,WAAA,EAAA;AACA,IAAA,IAAA,UAAA,CAAA,WAAA,EAAA,EAAA,CAAA,CAAA,IAAA;AACA,GAAA;;AAEA,EAAA,MAAA,OAAA,GAAA,KAAA,CAAA,gBAAA,CAAA,2BAAA;AACA,EAAA,eAAA,CAAA,OAAA,EAAA,UAAA,MAAA,EAAA;AACA,IAAA,IAAA,KAAA,CAAA,MAAA,EAAA,EAAA,CAAA,CAAA,IAAA;AACA,GAAA;AACA;;;;"}